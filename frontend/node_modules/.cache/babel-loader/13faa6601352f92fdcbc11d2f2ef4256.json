{"ast":null,"code":"var _jsxFileName = \"/Users/michvl/Desktop/Calendly/frontend/src/AppContent.js\";\nimport React from 'react';\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\nimport { request, setAuthHeader } from './helpers/axios_helper';\nimport AuthContent from './AuthContent';\nimport LoginForm from './LoginForm';\nimport WelcomeContent from './WelcomeContent';\nimport Calendar from \"./Calendar\";\nimport Header from \"./Header\";\nimport RegisterForm from \"./RegisterForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class AppContent extends React.Component {\n  constructor(props) {\n    var _this;\n    super(props);\n    _this = this;\n    this.changeComponent = function (componentName) {\n      let isLoggedIn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.isLoggedIn;\n      _this.setState({\n        componentToShow: componentName,\n        isLoggedIn: isLoggedIn\n      });\n    };\n    this.logout = () => {\n      this.changeComponent(\"welcome\", false);\n      setAuthHeader(null);\n    };\n    this.onLogin = (e, username, password) => {\n      e.preventDefault();\n      request(\"POST\", \"/login\", {\n        login: username,\n        password: password\n      }).then(response => {\n        setAuthHeader(response.data.token);\n        this.changeComponent(\"messages\", true);\n      }).catch(error => {\n        this.logout(); // Reset to initial state on error\n      });\n    };\n    this.onRegister = (event, firstName, lastName, username, password) => {\n      event.preventDefault();\n      request(\"POST\", \"/register\", {\n        firstName,\n        lastName,\n        login: username,\n        password\n      }).then(response => {\n        setAuthHeader(response.data.token);\n        this.changeComponent(\"messages\", true);\n      }).catch(error => {\n        this.logout(); // Reset to initial state on error\n      });\n    };\n    this.state = {\n      componentToShow: \"welcome\",\n      isLoggedIn: false\n    };\n  }\n  renderComponent() {\n    const {\n      componentToShow\n    } = this.state;\n    switch (componentToShow) {\n      case \"welcome\":\n        return /*#__PURE__*/_jsxDEV(WelcomeContent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 24\n        }, this);\n      case \"login\":\n        return /*#__PURE__*/_jsxDEV(LoginForm, {\n          onLogin: this.onLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 24\n        }, this);\n      case \"register\":\n        return /*#__PURE__*/_jsxDEV(RegisterForm, {\n          onRegister: this.onRegister\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 24\n        }, this);\n      case \"messages\":\n        return /*#__PURE__*/_jsxDEV(AuthContent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 24\n        }, this);\n      case \"calendar\":\n        return /*#__PURE__*/_jsxDEV(Calendar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 24\n        }, this);\n      default:\n        return null;\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        calendar: () => this.changeComponent(\"calendar\"),\n        login: () => this.changeComponent(\"login\"),\n        register: () => this.changeComponent(\"register\"),\n        logout: this.logout,\n        isLoggedIn: this.state.isLoggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SwitchTransition, {\n        mode: \"out-in\",\n        children: /*#__PURE__*/_jsxDEV(CSSTransition, {\n          timeout: 300,\n          classNames: \"fade\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: this.renderComponent()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, this.state.componentToShow, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n}","map":{"version":3,"names":["React","CSSTransition","SwitchTransition","request","setAuthHeader","AuthContent","LoginForm","WelcomeContent","Calendar","Header","RegisterForm","AppContent","Component","constructor","props","changeComponent","componentName","isLoggedIn","state","setState","componentToShow","logout","onLogin","e","username","password","preventDefault","login","then","response","data","token","catch","error","onRegister","event","firstName","lastName","renderComponent","render"],"sources":["/Users/michvl/Desktop/Calendly/frontend/src/AppContent.js"],"sourcesContent":["import React from 'react';\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\nimport { request, setAuthHeader } from './helpers/axios_helper';\nimport AuthContent from './AuthContent';\nimport LoginForm from './LoginForm';\nimport WelcomeContent from './WelcomeContent';\nimport Calendar from \"./Calendar\";\nimport Header from \"./Header\";\nimport RegisterForm from \"./RegisterForm\";\n\nexport default class AppContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            componentToShow: \"welcome\",\n            isLoggedIn: false\n        };\n    };\n\n    changeComponent = (componentName, isLoggedIn = this.state.isLoggedIn) => {\n        this.setState({\n            componentToShow: componentName,\n            isLoggedIn: isLoggedIn\n        });\n    };\n\n    logout = () => {\n        this.changeComponent(\"welcome\", false);\n        setAuthHeader(null);\n    };\n\n    onLogin = (e, username, password) => {\n        e.preventDefault();\n        request(\"POST\", \"/login\", { login: username, password: password })\n            .then(response => {\n                setAuthHeader(response.data.token);\n                this.changeComponent(\"messages\", true);\n            })\n            .catch(error => {\n                this.logout(); // Reset to initial state on error\n            });\n    };\n\n    onRegister = (event, firstName, lastName, username, password) => {\n        event.preventDefault();\n        request(\"POST\", \"/register\", { firstName, lastName, login: username, password })\n            .then(response => {\n                setAuthHeader(response.data.token);\n                this.changeComponent(\"messages\", true);\n            })\n            .catch(error => {\n                this.logout(); // Reset to initial state on error\n            });\n    };\n\n    renderComponent() {\n        const { componentToShow } = this.state;\n        switch (componentToShow) {\n            case \"welcome\":\n                return <WelcomeContent />;\n            case \"login\":\n                return <LoginForm onLogin={this.onLogin} />;\n            case \"register\":\n                return <RegisterForm onRegister={this.onRegister} />;\n            case \"messages\":\n                return <AuthContent />;\n            case \"calendar\":\n                return <Calendar />;\n            default:\n                return null;\n        }\n    }\n\n    render() {\n        return (\n            <>\n                <Header\n                    calendar={() => this.changeComponent(\"calendar\")}\n                    login={() => this.changeComponent(\"login\")}\n                    register={() => this.changeComponent(\"register\")}\n                    logout={this.logout}\n                    isLoggedIn={this.state.isLoggedIn}\n                />\n\n                <SwitchTransition mode=\"out-in\">\n                    <CSSTransition\n                        key={this.state.componentToShow}\n                        timeout={300}\n                        classNames=\"fade\"\n                    >\n                        <div>\n                            {this.renderComponent()}\n                        </div>\n                    </CSSTransition>\n                </SwitchTransition>\n            </>\n        );\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}