{"ast":null,"code":"var _jsxFileName = \"/Users/michvl/Desktop/Calendly/frontend/src/components/AppContent.js\";\nimport React from 'react';\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\nimport { request, setAuthHeader } from '../util/axios_helper';\nimport LoggedInContent from './LoggedInContent';\nimport LoginForm from './LoginForm';\nimport WelcomeContent from './WelcomeContent';\nimport Calendar from \"./Calendar\";\nimport Header from \"./Header\";\nimport RegisterForm from \"./RegisterForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class AppContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.calendar = () => {\n      this.setState({\n        componentToShow: \"calendar\"\n      });\n    };\n    this.login = () => {\n      this.setState({\n        componentToShow: \"login\"\n      });\n    };\n    this.register = () => {\n      this.setState({\n        componentToShow: \"register\"\n      });\n    };\n    this.logout = () => {\n      this.setState({\n        componentToShow: \"welcome\"\n      });\n      setAuthHeader(null);\n    };\n    this.onLogin = (e, username, password) => {\n      e.preventDefault();\n      request(\"POST\", \"/login\", {\n        login: username,\n        password: password\n      }).then(response => {\n        setAuthHeader(response.data.token);\n        this.setState({\n          componentToShow: \"messages\"\n        });\n        this.setState({\n          isLoggedIn: true\n        });\n        //window.location = \"/\";\n      }).catch(error => {\n        setAuthHeader(null);\n        this.setState({\n          componentToShow: \"welcome\"\n        });\n      });\n    };\n    this.onRegister = (event, firstName, lastName, username, password) => {\n      event.preventDefault();\n      request(\"POST\", \"/register\", {\n        firstName: firstName,\n        lastName: lastName,\n        login: username,\n        password: password\n      }).then(response => {\n        setAuthHeader(response.data.token);\n        this.setState({\n          componentToShow: \"messages\"\n        });\n        this.setState({\n          isLoggedIn: true\n        });\n        //window.location = \"/\";\n      }).catch(error => {\n        setAuthHeader(null);\n        this.setState({\n          componentToShow: \"welcome\"\n        });\n      });\n    };\n    this.state = {\n      componentToShow: \"welcome\",\n      isLoggedIn: false\n    };\n  }\n  renderComponent() {\n    switch (this.state.componentToShow) {\n      case \"welcome\":\n        return /*#__PURE__*/_jsxDEV(WelcomeContent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 24\n        }, this);\n      case \"login\":\n        return /*#__PURE__*/_jsxDEV(LoginForm, {\n          onLogin: this.onLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 24\n        }, this);\n      case \"register\":\n        return /*#__PURE__*/_jsxDEV(RegisterForm, {\n          onRegister: this.onRegister\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 24\n        }, this);\n      case \"messages\":\n        return /*#__PURE__*/_jsxDEV(LoggedInContent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 24\n        }, this);\n      case \"calendar\":\n        return /*#__PURE__*/_jsxDEV(Calendar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 24\n        }, this);\n      default:\n        return null;\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        calendar: this.calendar,\n        login: this.login,\n        register: this.register,\n        logout: this.logout,\n        isLoggedIn: this.state.isLoggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SwitchTransition, {\n        mode: \"out-in\",\n        children: /*#__PURE__*/_jsxDEV(CSSTransition, {\n          timeout: 300,\n          classNames: \"fade\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: this.renderComponent()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)\n        }, this.state.componentToShow, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n}","map":{"version":3,"names":["React","CSSTransition","SwitchTransition","request","setAuthHeader","LoggedInContent","LoginForm","WelcomeContent","Calendar","Header","RegisterForm","AppContent","Component","constructor","props","calendar","setState","componentToShow","login","register","logout","onLogin","e","username","password","preventDefault","then","response","data","token","isLoggedIn","catch","error","onRegister","event","firstName","lastName","state","renderComponent","render"],"sources":["/Users/michvl/Desktop/Calendly/frontend/src/components/AppContent.js"],"sourcesContent":["import React from 'react';\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\nimport { request, setAuthHeader } from '../util/axios_helper';\nimport LoggedInContent from './LoggedInContent';\nimport LoginForm from './LoginForm';\nimport WelcomeContent from './WelcomeContent';\nimport Calendar from \"./Calendar\";\nimport Header from \"./Header\";\nimport RegisterForm from \"./RegisterForm\";\n\nexport default class AppContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            componentToShow: \"welcome\",\n            isLoggedIn: false\n        };\n    };\n\n    calendar = () => {\n        this.setState({componentToShow: \"calendar\"});\n    };\n\n    login = () => {\n        this.setState({componentToShow: \"login\"});\n    };\n\n    register = () => {\n        this.setState({componentToShow: \"register\"});\n    };\n\n    logout = () => {\n        this.setState({componentToShow: \"welcome\"});\n        setAuthHeader(null);\n    };\n\n    onLogin = (e, username, password) => {\n        e.preventDefault();\n        request(\n            \"POST\",\n            \"/login\",\n            {\n                login: username,\n                password: password\n            }).then(\n            (response) => {\n                setAuthHeader(response.data.token);\n                this.setState({componentToShow: \"messages\"});\n                this.setState({isLoggedIn: true});\n                //window.location = \"/\";\n            }).catch(\n            (error) => {\n                setAuthHeader(null);\n                this.setState({componentToShow: \"welcome\"})\n            }\n        );\n    };\n\n    onRegister = (event, firstName, lastName, username, password) => {\n        event.preventDefault();\n        request(\n            \"POST\",\n            \"/register\",\n            {\n                firstName: firstName,\n                lastName: lastName,\n                login: username,\n                password: password\n            }).then(\n            (response) => {\n                setAuthHeader(response.data.token);\n                this.setState({componentToShow: \"messages\"});\n                this.setState({isLoggedIn: true});\n                //window.location = \"/\";\n            }).catch(\n            (error) => {\n                setAuthHeader(null);\n                this.setState({componentToShow: \"welcome\"})\n            }\n        );\n    };\n\n    renderComponent() {\n        switch (this.state.componentToShow) {\n            case \"welcome\":\n                return <WelcomeContent />;\n            case \"login\":\n                return <LoginForm onLogin={this.onLogin} />;\n            case \"register\":\n                return <RegisterForm onRegister={this.onRegister} />;\n            case \"messages\":\n                return <LoggedInContent />;\n            case \"calendar\":\n                return <Calendar />;\n            default:\n                return null;\n        }\n    }\n\n    render() {\n        return (\n            <>\n                <Header\n                    calendar={this.calendar}\n                    login={this.login}\n                    register={this.register}\n                    logout={this.logout}\n                    isLoggedIn={this.state.isLoggedIn}\n                />\n\n                <SwitchTransition mode=\"out-in\">\n                    <CSSTransition\n                        key={this.state.componentToShow}\n                        timeout={300}\n                        classNames=\"fade\"\n                    >\n                        <div>\n                            {this.renderComponent()}\n                        </div>\n                    </CSSTransition>\n                </SwitchTransition>\n            </>\n        );\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}